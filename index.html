<!doctype html>
<html>
    <head>
        <title>API Is Fun</title>
        <meta charset="utf-8"/>
        
        <link rel="stylesheet" href="style.css">
        
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Nunito&family=Overpass&family=Poppins:wght@300&family=Roboto+Slab&family=Zen+Kaku+Gothic+Antique&display=swap');
        </style>
    
        <script>
            function getQuote() {
                /* Step 1: Make instance of request object...
                ...to make HTTP request after page is loaded*/
                request = new XMLHttpRequest();
                console.log("1 - request object created");

                // Step 2: Set the URL for the AJAX request to be the JSON file

                request.open("GET", "https://cors-anywhere.herokuapp.com/https://api.themotivate365.com/stoic-quote", true)

                console.log("2 - opened request file");

                // Step 3: set up event handler/callback

                request.onreadystatechange = function() {
                    console.log("3 - readystatechange event fired.");

                    if (request.readyState == 4 && request.status == 200) {

                        // Step 5: wait for done + success
                        console.log("5 - response received");
                        result = request.responseText;
                        alert(result);
                        zenQuote = JSON.parse(result);
                        console.log(zenQuote);
                        document.getElementById("displayData").innerHTML = zenQuote["data"]["quote"] + "</br>" + "- " + zenQuote["data"]["author"];

                    }
                    else if (request.readyState == 4 && request.status != 200) {

                        document.getElementById("displayData").innerHTML = "Something is wrong!";

                    }

                    else if (request.readyState == 3) {

                        document.getElementById("displayData").innerHTML = "Too soon! Try again";

                    }

                }
            // Step 4: fire off the HTTP request
                request.send();
                console.log("4 - Request sent");
            }
	</script>
</head>


<body onload="getQuote()">
	<h1>Live a Better Life with Stoicism Wisdom</h1>
    <div id="displayData">Loading...</div>
    
    <p>This API generates quotes relating to the philosophy of stoicism</p>
    
    <a href = "https://github.com/tlcheah2/stoic-quote-lambda-public-api">Source</a>
    
    <p>The API returns a JSON file containing a random quote and the author. Both attributes (quote and author) are called in this web page.</p>
    
    <p>Application I: Site serving as a resource regarding your general well-being, where the quotes may be used as an advice or give a new perspective</p>
    
    <p>Application II: Quotes can also be generated as part of the design of a default search engine tab (to help clear your mind before you begin your work)</p>
</body>
    
</html>
    
